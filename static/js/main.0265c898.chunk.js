(this["webpackJsonpemployees-list"]=this["webpackJsonpemployees-list"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(9),i=n.n(a),s=(n(16),n(3)),o=n(2),u=n(5),l=n.n(u),m=n(8),f=n(10),j=n(11),p=function(){function e(){Object(f.a)(this,e)}return Object(j.a)(e,[{key:"getResource",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(URL,",\n            error status ").concat(t.status));case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getMappedEmployees",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource();case 2:return t=e.sent,e.abrupt("return",t.map(this._mapEmployeeBirthday));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_mapEmployeeBirthday",value:function(e){var t=new Date(e.dob),n=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],r=t.getDate(),c=t.getFullYear();return{firstName:e.firstName,lastName:e.lastName,id:e.id,isActive:!1,dob:{day:r,month:n,year:c}}}}]),e}(),b=(n(18),n(0));function d(e){var t=e.employees,n=e.getEmployeeDetails;return Object(b.jsxs)("div",{className:"employees-list",children:[Object(b.jsxs)("h1",{children:[" Say ",Object(b.jsx)("span",{children:"HAPPY BIRTHDAY "})," to your employees "]}),["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"].map((function(e){return Object(b.jsxs)("div",{className:"letter-card",children:[Object(b.jsxs)("h2",{children:[" ",e.toUpperCase()," "]}),Object(b.jsx)(h,{filteredByLetter:t.filter((function(t){return t.firstName[0]===e.toUpperCase()})).sort((function(e,t){return e.firstName>t.firstName?1:-1})),getActiveEmployee:function(e){return n(e)}})]},e)}))]})}function h(e){var t=e.filteredByLetter,n=e.getActiveEmployee;return Object(b.jsx)("ul",{children:0!==t.length?t.map((function(e){return Object(b.jsx)(y,{employee:e,getActiveEmployee:function(e){return n(e)}})})):Object(b.jsx)("p",{children:" No Employees "})})}function y(e){var t=e.employee,n=e.getActiveEmployee,c=Object(r.useState)(!1),a=Object(o.a)(c,2),i=a[0],s=a[1];Object(r.useEffect)((function(){s(t.isActive)}),[i]);return Object(b.jsxs)("li",{id:t.id,className:i?"active":"not-active",children:[t.firstName+" "+t.lastName,Object(b.jsxs)("form",{onChange:function(e){return function(e){n({id:e.target.name,isActive:i})}(e)},children:[Object(b.jsx)("input",{type:"radio",id:"active",name:t.id,onChange:function(){return s((function(e){return!e}))},checked:i}),Object(b.jsx)("label",{htmlFor:"active",children:"Active"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"radio",id:"notActive",name:t.id,onChange:function(){return s((function(e){return!e}))},checked:!i}),Object(b.jsx)("label",{htmlFor:"notActive",children:"Not Active"})]})]},t.id)}n(20);var O=n.p+"static/media/note.f2c92ba0.png";function v(e){var t=e.employees,n=["January","February","March","April","May","June","July","August","September","October","November","December"],c=Object(r.useState)([]),a=Object(o.a)(c,2),i=a[0],u=a[1];return Object(r.useEffect)((function(){var e=new Date,t=n.slice(0,e.getMonth()-1),r=n.slice(e.getMonth());u([].concat(Object(s.a)(r),Object(s.a)(t)))}),[]),Object(b.jsxs)("div",{className:"employees-details",children:[Object(b.jsx)("h2",{children:"Employees BirthDays "}),Object(b.jsx)("div",{className:"month-cards",children:0!==t.length?i.map((function(e){return Object(b.jsxs)("div",{className:"month-card",children:[Object(b.jsx)("h3",{children:e}),Object(b.jsx)(x,{filteredEmployees:t.filter((function(t){return t.dob.month===e})).sort((function(e,t){return e.lastName>t.lastName?1:-1}))})]},e)})):Object(b.jsxs)("p",{className:"empty",children:["Employees list is empty",Object(b.jsx)("img",{src:O,alt:"icon"})]})})]})}function x(e){var t=e.filteredEmployees;return Object(b.jsx)("ul",{children:0!==t.length?t.map((function(e){return Object(b.jsxs)("li",{children:[" ","".concat(e.lastName," ").concat(e.firstName,"\n             - ").concat(e.dob.month," ").concat(e.dob.day,", \n             ").concat(e.dob.year," year")]},e.id)})):Object(b.jsx)("p",{children:"No Employees"})})}n(21);var g=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),i=Object(o.a)(a,2),u=i[0],l=i[1];return Object(r.useEffect)((function(){var e=new p;if(localStorage.getItem("employees")){var t=JSON.parse(localStorage.getItem("employees"));c(t),l(t.filter((function(e){return!0===e.isActive})))}else e.getMappedEmployees().then((function(e){c(e),localStorage.setItem("employees",JSON.stringify(e))}))}),[]),Object(r.useEffect)((function(){if(0!==n.length){var e=new Set([].concat(Object(s.a)(n),Object(s.a)(u)));localStorage.setItem("employees",JSON.stringify(Array.from(e)))}}),[u,n]),Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)(d,{employees:n,getEmployeeDetails:function(e){return function(e){var t=e.id,r=e.isActive,c=n.find((function(e){return e.id===t}));c.isActive=!r,l(r?function(e){return e.filter((function(e){return e.id!==t}))}:function(e){return e.find((function(e){return e.id===t}))?e:[].concat(Object(s.a)(e),[c])})}(e)}}),Object(b.jsx)(v,{employees:u})]})};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.0265c898.chunk.js.map